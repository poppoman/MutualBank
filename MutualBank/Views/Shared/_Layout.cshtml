<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - MutualBank</title>
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.css" />
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/MutualBank.styles.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/css/nav.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/css/rootColor.css" asp-append-version="true" />

    @*googlefont*@
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css"
          integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">\
          @await RenderSectionAsync("Styles", required: false)
</head>

<body>
    <header>
        <div class="navBar">
            <div class="topL">
                <div class="logo"><a asp-action="Index" asp-controller="Home"><img src="~/Img/nav/logo.png"></a></div>
                <div class="search">
                    <div class="region">
                        <span>縣市 <i class="fa-solid fa-caret-down"></i></span>
                        <div class="county">
                            <li>
                                <span>北部</span>
                                <ul>台北市</ul>
                                <ul>台北市</ul>
                                <ul>台北市</ul>
                                <ul>台北市</ul>
                                <ul>台北市</ul>
                            </li>
                            <li>
                                <span>中部</span>
                                <ul>台北市</ul>
                                <ul>台北市</ul>
                                <ul>台北市</ul>
                                <ul>台北市</ul>
                                <ul>台北市</ul>
                            </li>
                            <li>
                                <span>南部</span>
                                <ul>台北市</ul>
                                <ul>台北市</ul>
                                <ul>台北市</ul>
                                <ul>台北市</ul>
                                <ul>台北市</ul>
                            </li>
                            <li>
                                <span>東部</span>
                                <ul>台北市</ul>
                                <ul>台北市</ul>
                                <ul>台北市</ul>
                                <ul>台北市</ul>
                                <ul>台北市</ul>
                            </li>
                            <li>
                                <span>離島</span>
                                <ul>台北市</ul>
                                <ul>台北市</ul>
                                <ul>台北市</ul>
                                <ul>台北市</ul>
                                <ul>台北市</ul>
                            </li>
                        </div>
                        <span>區域 <i class="fa-solid fa-caret-down"></i></span>
                        <div class="dist">
                            <span>鄉鎮區</span><span>鄉鎮區</span><span>鄉鎮區</span><span>鄉鎮區</span>
                            <span>鄉鎮區</span><span>鄉鎮區</span><span>鄉鎮區</span><span>鄉鎮區</span>
                            <span>鄉鎮區</span><span>鄉鎮區</span><span>鄉鎮區</span><span>鄉鎮區</span>
                            <span>鄉鎮區</span><span>鄉鎮區</span><span>鄉鎮區</span><span>鄉鎮區</span>
                            <span>鄉鎮區</span><span>鄉鎮區</span><span>鄉鎮區</span><span>鄉鎮區</span>
                            <span>鄉鎮區</span><span>鄉鎮區</span><span>鄉鎮區</span><span>鄉鎮區</span>
                            <span>鄉鎮區</span><span>鄉鎮區</span><span>鄉鎮區</span><span>鄉鎮區</span>
                            <span>鄉鎮區</span><span>鄉鎮區</span><span>鄉鎮區</span><span>鄉鎮區</span>
                            <span>鄉鎮區</span><span>鄉鎮區</span><span>鄉鎮區</span>
                        </div>
                    </div>
                    <input type="text" placeholder="輸入關鍵字">
                    <i class="fa-solid fa-magnifying-glass">
                    </i>
                </div>
            </div>
            <div class="topR">
                <i class="iconMaun fa-solid fa-bars"></i>
                <div class="barManu">
                    <ul>
                        <partial name="_LoginPartial" />
                    </ul>
                </div>
            </div>
            <div class="toTop">
                <a href="#"><i class="fa-solid fa-circle-arrow-up"></i></a>
            </div>
        </div>
    </header>

    <div class="wrap-panel">
        <div class="closeToggle"></div>
        <div class="postCard">
            <i class="iconPost fa-solid fa-xmark"></i>
            <div class="title">

                <span>Hello</span>
                <p>今天想要貼些什麼呢？</p>
            </div>
            <div class="link">
                <a class="butn poHelp" asp-page="/Home/Index">新增需求</a>
                <a class="butn poSkill" asp-page="/Home/Index">提供技能</a>
            </div>
        </div>
    </div>

    <div class="container fromNav">

        <main role="main" class="pb-3">
            @RenderBody()
        </main>
    </div>

    <footer class="border-top footer text-muted">
        <div class="container">
            &copy; 2022 - MutualBank - <a asp-area="" asp-controller="Home" asp-action="Privacy">Privacy</a>
        </div>
    </footer>
    <script>
        //-點選icon顯示區域面板
        let iconCounty = document.querySelectorAll('.navBar .topL .search .region span i');
        let panelCounty = document.querySelector('.navBar .topL .search .region .county');
        iconCounty[0].addEventListener('click', function() {
            panelCounty.classList.toggle('active');
            //開啟背景的點擊關閉功能
            closeToggle.classList.add('On');
        })
        let panelDist = document.querySelector('.navBar .topL .search .region .dist');
        iconCounty[1].addEventListener('click', function() {
            panelDist.classList.toggle('active');
            //開啟背景的點擊關閉功能
            closeToggle.classList.add('On');
        })

        //-RWD Manu控制
        let closeToggle = document.querySelector('.closeToggle');

        let barManu = document.querySelector('.topR .barManu ');
        let iconManu = document.querySelector('.navBar .topR .iconMaun');
        iconManu.addEventListener('click', function() {
            barManu.classList.toggle('active');
            //點選時切換icon
            iconManu.classList.toggle('fa-bars');
            iconManu.classList.toggle('fa-xmark');
            //開啟背景關閉功能
            closeToggle.classList.add('bgOn');
        })


        //-postQuery 點選+號後顯示面板
        let btnPo = document.querySelector('.topR .barManu li:first-child');
        let panelPo = document.querySelector('.postCard');
        btnPo.addEventListener('click', function() {
            //panelPoBg.classList.toggle('active');
            panelPo.classList.toggle('active');
            //開啟背景的點擊關閉功能
            closeToggle.classList.add('bgOn');
            //同時關閉barManu，並將X恢復為原icon
            barManu.classList.remove('active');
            iconManu.classList.toggle('fa-bars');
            iconManu.classList.toggle('fa-xmark');

        })
        let iconPost = document.querySelector('.wrap-panel .iconPost');
        iconPost.addEventListener('click', function() {
            closeToggle.classList.remove('On');
            closeToggle.classList.remove('bgOn');
            panelPo.classList.remove('active');

        });

        //-點擊背景時關閉面板
        closeToggle.addEventListener('click', function() {
            panelCounty.classList.remove('active');
            panelDist.classList.remove('active');
            panelPo.classList.remove('active');
            barManu.classList.remove('active');
            closeToggle.classList.remove('On');
            closeToggle.classList.remove('bgOn');
            if (barManu.classList.contains('active')) {
                //關閉barManu，並將X恢復為原icon
                barManu.classList.remove('active');
                iconManu.classList.toggle('fa-bars');
                iconManu.classList.toggle('fa-xmark');
            }

        })
    </script>

    @*fontawesome*@
    <script src="https://kit.fontawesome.com/d0f99bafb2.js" crossorigin="anonymous"></script>
    <script src="~/lib/jquery/dist/jquery.js"></script>
    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.js"></script>
    <script src="~/js/site.js" asp-append-version="true"></script>
    @await RenderSectionAsync("Scripts", required: false)
</body>

</html>
